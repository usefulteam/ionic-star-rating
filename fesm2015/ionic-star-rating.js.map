{"version":3,"file":"ionic5-star-rating.js","sources":["ng://ionic5-star-rating/lib/ionic5-star-rating.component.ts","ng://ionic5-star-rating/lib/ionic5-star-rating.module.ts"],"sourcesContent":["import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nconst HTML_TEMPLATE = `\n<div class=\"ionic5-star-rating\">\n  <button [ngStyle]=\"{'width' : fontSize, 'height' : fontSize}\" *ngFor=\"let index of iconsArray\" id=\"{{index}}\" type=\"button\" ion-button icon-only (click)=\"changeRating($event)\">\n    <ion-icon [ngStyle]=\"{'color':index < this.Math.round(this.parseFloat(rating)) ? activeColor : defaultColor, 'font-size' : fontSize }\" name=\"{{(halfStar ==='true' && (rating - index > 0) && (rating - index <= 0.5)) ? halfIcon : (index < this.Math.round(this.parseFloat(rating))) ? activeIcon : defaultIcon}}\"></ion-icon>\n  </button>\n</div>\n`\n\nconst CSS_STYLE = `\n    .ionic5-star-rating button {\n        background: none;\n        box-shadow: none;\n        -webkit-box-shadow: none;\n        padding : 0px;\n    }\n`\n\n@Component({\n  selector: 'ionic5-star-rating',\n  template: HTML_TEMPLATE,\n  styles: [CSS_STYLE],\n  providers: [\n    {\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: StarRating,\n        multi: true\n    }\n]\n})\nexport class StarRating implements ControlValueAccessor, OnInit{\n\n  ngOnInit(): void {\n    this.rating = this.rating || 3; //default after input`s initialization\n    for(var i=0; i < this.maxRating; i++) {\n      this.iconsArray.push(i);\n    }\n  }\n\n  private _rating : number;\n  private onChange : any;\n  private onTouched : any;\n  public disabled : boolean;\n\n  writeValue(obj: number): void {\n    this.rating = obj;\n  }\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n  setDisabledState?(isDisabled: boolean): void {\n    this.readonly = isDisabled ? \"true\" : \"false\";\n  }\n\n  @Input() public set rating(val : number){\n    this._rating = val;\n    // for form\n    if(this.onChange){\n      this.onChange(val);\n    }\n  }\n\n  public get rating(): number{\n    return this._rating;\n  }\n  \n  @Output()\n  ratingChanged : EventEmitter<number> = new EventEmitter<number>();\n\n  @Input()\n  readonly: string = \"false\";\n  @Input()\n  activeColor : string = '#488aff';\n  @Input()\n  defaultColor : string = '#aaaaaa';\n  @Input()\n  activeIcon : string = 'star';\n  @Input()\n  defaultIcon : string = 'star-outline';\n  @Input()\n  halfIcon : string = 'star-half';\n  @Input()\n  halfStar : string = \"false\";\n  @Input()\n  maxRating : number = 5;\n  @Input()\n  fontSize : string = '28px';\n  Math: any;\n  parseFloat : any;\n  iconsArray : number[] = [];\n\n  constructor() {\n    this.Math = Math;\n    this.parseFloat = parseFloat;\n  }\n\n  changeRating(event){\n\n    if(this.readonly && this.readonly === \"true\") return;\n    // event is different for firefox and chrome\n    let id = event.target.id ? parseInt(event.target.id) : parseInt(event.target.parentElement.id);\n    if(this.halfStar && this.halfStar === \"true\") {\n      this.rating = ((this.rating - id > 0) && (this.rating - id <= 0.5)) ? id + 1 : id + .5;\n    } else {\n      this.rating = id + 1;\n    }\n    \n    // unique event\n    this.ratingChanged.emit(this.rating)\n  }\n}","import { NgModule } from '@angular/core';\nimport { StarRating } from './ionic5-star-rating.component';\nimport { IonicModule } from '@ionic/angular';\nimport { CommonModule } from '@angular/common';\n\n\n@NgModule({\n  declarations: [StarRating],\n  imports: [\n    IonicModule,\n    CommonModule\n  ],\n  exports: [StarRating]\n})\nexport class StarRatingModule { }\n"],"names":[],"mappings":"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"}