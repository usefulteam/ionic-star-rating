{"version":3,"file":"ionic5-star-rating.umd.js","sources":["ng://ionic5-star-rating/lib/ionic5-star-rating.component.ts","ng://ionic5-star-rating/lib/ionic5-star-rating.module.ts"],"sourcesContent":["import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nconst HTML_TEMPLATE = `\n<div class=\"ionic5-star-rating\">\n  <button [ngStyle]=\"{'width' : fontSize, 'height' : fontSize}\" *ngFor=\"let index of iconsArray\" id=\"{{index}}\" type=\"button\" ion-button icon-only (click)=\"changeRating($event)\">\n    <ion-icon [ngStyle]=\"{'color':index < this.Math.round(this.parseFloat(rating)) ? activeColor : defaultColor, 'font-size' : fontSize }\" name=\"{{(halfStar ==='true' && (rating - index > 0) && (rating - index <= 0.5)) ? halfIcon : (index < this.Math.round(this.parseFloat(rating))) ? activeIcon : defaultIcon}}\"></ion-icon>\n  </button>\n</div>\n`\n\nconst CSS_STYLE = `\n    .ionic5-star-rating button {\n        background: none;\n        box-shadow: none;\n        -webkit-box-shadow: none;\n        padding : 0px;\n    }\n`\n\n@Component({\n  selector: 'ionic5-star-rating',\n  template: HTML_TEMPLATE,\n  styles: [CSS_STYLE],\n  providers: [\n    {\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: StarRating,\n        multi: true\n    }\n]\n})\nexport class StarRating implements ControlValueAccessor, OnInit{\n\n  ngOnInit(): void {\n    this.rating = this.rating || 3; //default after input`s initialization\n    for(var i=0; i < this.maxRating; i++) {\n      this.iconsArray.push(i);\n    }\n  }\n\n  private _rating : number;\n  private onChange : any;\n  private onTouched : any;\n  public disabled : boolean;\n\n  writeValue(obj: number): void {\n    this.rating = obj;\n  }\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n  setDisabledState?(isDisabled: boolean): void {\n    this.readonly = isDisabled ? \"true\" : \"false\";\n  }\n\n  @Input() public set rating(val : number){\n    this._rating = val;\n    // for form\n    if(this.onChange){\n      this.onChange(val);\n    }\n  }\n\n  public get rating(): number{\n    return this._rating;\n  }\n  \n  @Output()\n  ratingChanged : EventEmitter<number> = new EventEmitter<number>();\n\n  @Input()\n  readonly: string = \"false\";\n  @Input()\n  activeColor : string = '#488aff';\n  @Input()\n  defaultColor : string = '#aaaaaa';\n  @Input()\n  activeIcon : string = 'star';\n  @Input()\n  defaultIcon : string = 'star-outline';\n  @Input()\n  halfIcon : string = 'star-half';\n  @Input()\n  halfStar : string = \"false\";\n  @Input()\n  maxRating : number = 5;\n  @Input()\n  fontSize : string = '28px';\n  Math: any;\n  parseFloat : any;\n  iconsArray : number[] = [];\n\n  constructor() {\n    this.Math = Math;\n    this.parseFloat = parseFloat;\n  }\n\n  changeRating(event){\n\n    if(this.readonly && this.readonly === \"true\") return;\n    // event is different for firefox and chrome\n    let id = event.target.id ? parseInt(event.target.id) : parseInt(event.target.parentElement.id);\n    if(this.halfStar && this.halfStar === \"true\") {\n      this.rating = ((this.rating - id > 0) && (this.rating - id <= 0.5)) ? id + 1 : id + .5;\n    } else {\n      this.rating = id + 1;\n    }\n    \n    // unique event\n    this.ratingChanged.emit(this.rating)\n  }\n}","import { NgModule } from '@angular/core';\nimport { StarRating } from './ionic5-star-rating.component';\nimport { IonicModule } from '@ionic/angular';\nimport { CommonModule } from '@angular/common';\n\n\n@NgModule({\n  declarations: [StarRating],\n  imports: [\n    IonicModule,\n    CommonModule\n  ],\n  exports: [StarRating]\n})\nexport class StarRatingModule { }\n"],"names":["EventEmitter","Component","NG_VALUE_ACCESSOR","Input","Output","NgModule","IonicModule","CommonModule"],"mappings":"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"}